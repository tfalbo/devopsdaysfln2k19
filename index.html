<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
					## Migração de Logs do LogEntries para o Stackdriver
					Thaíssa Falbo

					SRE - Resultados Digitais

					Slides com notas disponíveis em www.inserirlinkaqui.com
				</section>
				<section>
					<img data-src="img/time.jpg" alt="Na foto há 12 pessoas (4 mulheres e 8 homens) de pé brindando com champagne dentro de um escritório."/>
				</section>
				<section data-markdown>
					## Situação anterior
					* LogEntries com limite de 4Tb que sempre estourava no fim do mês
					* Aplicações fora do kubernetes que logavam hard-coded
					* Logs quebrados excediam o limite da quota
					Note: Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit »S« on your keyboard).
				</section>
				<section data-markdown>
					## Consolidação da Cloud
					* Listar serviços externos que usávamos
					* Consolidamos a infra na Google Cloud
					* Algumas aplicações ainda estavam no Heroku e AWS
				</section>
				<section data-markdown>
					## Arquitetura com Kubernetes
					* FluentD customizado ocupando um namespace do cluster
					* Plugin LogEntries
					* Plugin Google Stackdriver adicionado, mantendo dois destinos
					Note: Não usamos a FluentD da Google para poder ser mais customizável.
				</section>
				<section data-markdown>
					## Primeiro obstáculo: drop de logs
					* Passamos o conhecimento para o suporte N2 e N3, percebemos o drop de logs
					* Suporte da Google foi acionado tardiamente
					* Corrigimos o drop com o buffer, mas precisamos de ajustes finos
				</section>
				<section data-markdown>
					## Segundo obstáculo: encerramento do LogEntries
					* A conta do LogEntries foi encerrada antes do previsto, porém o Stackdriver segurou a demanda
					* Precisamos ajudar os devs e o suporte n2 e n3
				</section>
				<section data-markdown>
					### Aprendizados
					* Envolver usuários o mais cedo possível
					* Acionar suporte o mais cedo possível
				</section>
				<section data-markdown>
					### Vantagens
					* Conseguimos reduzir em 1/3 o custo de ingestão de logs.
					* Consolidação da Cloud
					* Padronização da forma como as apps lidam com os logs
					* Possibilidade de integração com o BigQuery
				</section>
				<section data-markdown>
					### Slide Final ?? Nao sei o que botar aqui.
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				
				showNotes: true,

				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
